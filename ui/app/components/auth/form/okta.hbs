{{!
  Copyright (c) HashiCorp, Inc.
  SPDX-License-Identifier: BUSL-1.1
~}}

{{#if this.waiting}}
  <OktaNumberChallenge
    @correctAnswer={{this.challengeAnswer}}
    @hasError={{this.authError}}
    @onReturnToLogin={{this.onCancel}}
  />
{{else}}
  <form {{on "submit" this.onSubmit}}>

    {{yield to="namespace"}}

    <div class="has-padding-l">
      {{yield to="back"}}
      {{yield to="authSelectOptions"}}
      {{yield to="error"}}

      <Auth::Fields @loginFields={{this.loginFields}} />
      <Hds::Button @text="Sign in" @isFullWidth={{true}} type="submit" class="has-top-margin-m has-bottom-margin-m" />

      {{yield to="footer"}}
    </div>
  </form>
{{/if}}